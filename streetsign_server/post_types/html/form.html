<div class="cf"></div>
<label>Contents: (rich text/HTML) </label><br/>
<label>Custom Text Color:<input type="checkbox" name="owntextcolor" value="1" {{ 'checked' if owntextcolor }}></label>
<label id="color_input" class="{{ 'hidden' if not owntextcolor }}">Color:<input type="color" name="color" value="{{color}}"/></label>
<div id="content-toolbar" style="display:none;" class="btn-group">
  <a data-wysihtml5-command="bold" class="btn btn-default"><b>B</b></a>
  <a data-wysihtml5-command="italic" class="btn btn-default"><i>i</i></a>
</div>

<textarea id="contenttextarea" name="content" rows="10" cols="80" style="width: 100%;">{{content}}</textarea>
<script type="text/javascript" defer>

$( function() {
    $('input[type=color]').spectrum({
       clickoutFiresChange: true,
       showInput: true,
       showPalette: true,
       showInitial: true,
       showButtons: false
    });

    $("#contenttextarea").wysihtml5({
        "stylesheets": [ '/static/lib/bootstrap-wysihtml5/default-styles.css' ],
        //"font-styles": true, //Font styling, e.g. h1, h2, etc. Default true
        "emphasis": true, //Italics, bold, etc. Default true
        "lists": true, //(Un)ordered lists, e.g. Bullets, Numbers. Default true
        "html": true, //Button which allows you to edit the generated HTML. Default false
        "image": true, //Button to insert an image. Default true,
        "color": true //Button to change color of font  
    });

    $('input[name=owntextcolor]').change(function(){
        $('#color_input').toggleClass('hidden');
        });

});
</script>
