{% extends "index.html" %}
{% block title %} Post List {% endblock %}

{% block body %}
<h2>All Posts</h2>
<table class="table table-striped">
<thead>
<tr>
<th>Type</th>
<th>Content</th>
<th>Author</th>
<th>Feeds</th>
<th> {% if session.display_admin_stuff %}<a class="btn btn-primary" href="{{ url_for('post_new') }}">New</a>{% endif %} </th>
</tr>
</thead>
<tbody>
{% for post in posts|sort(attribute="active_end") %}
    <tr class="time_{{- post.active_status() }}">
    <td>{{ post.type }}</td>
    <td>{{ linkmacros.post(post) }}</td>
    <td>{% if post.author %}
            {{linkmacros.user(post.author)}} (on {{ post.write_date.date() }})
        {% else %}
            No Author!
        {% endif %}
    </td>
    <td>{% if post.feed %}
           {{ linkmacros.feed(post.feed) }}&nbsp;
        {% else %}
            Not Published!
        {% endif %}
    </td>
    <td>{% if post.active %}Active{% endif %}</td>
    </tr>
{% endfor %}
</tbody>
</table>


{% endblock %}
