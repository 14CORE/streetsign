{% extends "index.html" %}

{% block body %}
<div class="leftside">
    <h1> User Details: </h1>
    <form method="POST">
    <label>login name:
        <input name="loginname" locked value="{{user.loginname}}" /></label><br/>
    <label>Displayed name:
        <input name="displayname" value="{{user.displayname}}" /></label><br/>
    <label>Email address:
        <input name="emailaddress" value="{{user.emailaddress}}" /></label><br/>
</div>
{% if session.display_admin_stuff or session.userid == user.id %}
<div class="rightside">
    <h2> Change Password:</h2>
    <label>Your current Password:<input name="currpass" type="password" /></label><br/>
    <label>New Password:<input name="currpass" type="password" /></label><br/>
    <label>Confirm new Password:<input name="currpass" type="password" /></label><br/>
</div>
{% endif %}
<div class="cf"></div><hr/>

<div class="leftside">
<h2> Feeds: </h2>
<ul>
    {% for f in user.writeable_feeds() %}
        <li>{{ linkmacros.feed(f) }}</li>
    {% endfor %}
</ul>
</div>
<div class="rightside">
<h2> Recent Posts: </h2>
<ul>
{% for post in posts %}
    <li>{{ linkmacros.post(post) }}</li>
{% endfor %}
</ul>
</div>
<div class="cf"></div><hr/>
<h2>Groups:</h2>
{% if session.display_admin_stuff %}
    {{ widgets.groupselect('groups', allgroups, user.groups) }}
{% else %}
    <ul>
    {% for group in user.groups %}
        <li>{{group.name}}</li>
    {% endfor %}
    </ul>
{% endif %}
<input type="submit" value="Save Changes." />
</form>
{% endblock %}
