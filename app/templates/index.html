<!doctype html>
<html>
  <head>
    <title>{% block title %}TODO: TITLE{% endblock %}</title>
    {% block htmlhead %}
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
    {% endblock %}
  </head>
<body>
<header>
  <h1>{{ display_title }}</h1>
  <nav>
    {% block nav %}
    <ul>
        {% macro navitem(view, text) -%}
            <li><a href="{{ url_for(view) }}">{{text}}</a></li>
        {%- endmacro %}

        {{ navitem('userlist',  'User list') }}
        {{ navitem('grouplist', 'Group list') }}
        {{ navitem('feedlist',  'Feed list') }}
        {{ navitem('postlist',  'Post list') }}
    </ul>
    {% endblock %}
  </nav>
</header>
<article>
{% block body %}{% endblock %}
</article>
<ul id="flashed_notices">
{% for msg in get_flashed_messages() %}
  <li>{{ msg }}</li>
{% endfor %}
</ul>
<footer>
<div class="footerbox">
{% if session.logged_in %}
    Logged in as {{ session.username }}.
    <form action="{{ url_for('logout') }}" method="POST">
        <input type="hidden" name="from" value="{{ request.endpoint }}" />
        <input type="submit" value="Log out">
    </form>
{% else %}
    <h2>Log in</h2>
    <form action="{{ url_for('login') }}" method="POST">
        <input name="username" placeholder="Your user name..." /><br />
        <input name="password" type="password" placeholder="password" /><br />
        <input type="hidden" name="from" value="{{ request.endpoint }}" />
        <input type="submit" value="Log in" />
    </form>
{% endif %}
</div>
</footer>
{% block end_of_page_javascript %}
  <!-- jquery, ga, whatever goes here. -->
<script type="text/javascript" src="{{ url_for('static',filename='main.js') }}"></script>
{% endblock %}
</body>
</html>
